(function(e,t){function c(e){var t='<audio autoplay="autoplay" style="display:none;" controls="controls">'+'<source src="'+e+'" /></audio>';setTimeout(function(){},2e3);n("#FancyPopup-notify").remove();return n("<div/>",{id:"FancyPopup-notify",html:t}).appendTo("body")}function h(){f.wrapper.append(f.inner.append(f.close).append(f.title).append(f.text).append(f.buttons));n("body").append(f.wrapper);n(document).on("keydown.FancyPopup",function(e){var t=e.keyCode||e.which;if(t==27){p()}});f.close.click(function(){p()})}function p(){f.inner.addClass("hide").removeClass("show");f.wrapper.fadeOut(300);setTimeout(function(){a=false},300)}function d(t){var r=(n(e).height()-f.inner.height())/2,i=(n(e).width()-f.inner.outerWidth()-2)/2,s=t?"animate":"css";f.inner[s]({left:i,top:r})}function v(e){var t=this;if(t.name=="Fancy")return new v(e);t.name=u;t.version="2.0.1";t.settings=n.extend({},v.settings,e);t.close=p;t.resize=d;if(!l){l=true;r.version(t);h()}if(!a){t.update();t.show()}else{t.update()}return t}if(typeof Fancy=="undefined"){console.error("Fancy is required");return}var n=t,r=Fancy,i=document.getElementsByTagName("script"),s=i[i.length-1].src,o=s.replace(s.split("/")[s.split("/").length-1],"fancypopup.wav"),u="FancyPopup",a=false,f={wrapper:n("<div/>",{id:u}),inner:n("<div/>",{id:u+"-inner"}),close:n("<div/>",{id:u+"-close",html:"x"}),title:n("<div/>",{id:u+"-title"}),text:n("<div/>",{id:u+"-content"}),buttons:n("<div/>",{id:u+"-buttons"})},l=false;v.api=v.prototype={};v.api.update=function(){var e=this;f.text.html(e.settings.text||"");f.title.html(e.settings.title||"");f.buttons.html("");for(var t in e.settings.buttons){var r=e.settings.buttons[t],i=n("<div/>",{id:e.name+"-button-"+t,"class":e.name+"-button button",html:r.title});i.on("click",function(){if(r.click)r.click(self,i);else p()}).attr("unselectable","on").css("user-select","none").on("selectstart",false);if(t=="ok"){var s=n(":focus").blur();n(document).on("keydown.FancyPopup",function(e){var t=e.keyCode||e.which;if(t==13){r.click(self,i)}})}f.buttons.append(i)}f.wrapper.removeAttr("class").addClass(u+"-theme-"+this.settings.theme);if(!this.settings.closeable)f.close.hide();else f.close.show();e.resize(a)};v.api.show=function(){var e=this;f.wrapper.hide().fadeIn(200);f.inner.hide();setTimeout(function(){f.inner.show().addClass("show").removeClass("hide");a=true},200);f.inner.css(e.settings);d();if(e.settings.notification)c(typeof e.settings.notification=="string"?e.settings.notification:o)};v.close=p;v.resize=d;v.settings={theme:"blunt",title:false,buttons:{},width:250,closeable:true,notification:true};r.popup=true;r.popup=r.api.popup=v})(window,jQuery)