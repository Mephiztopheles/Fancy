!function(global,factory){"object"==typeof module&&"object"==typeof module.exports?module.exports=global.document?factory(global,!0):function(w){if(!w.document)throw new Error("Fancy requires a window with a document");return factory(w)}:factory(global)}("undefined"!=typeof window?window:this,function(window,noGlobal){function getType(obj){return null===obj?obj+"":"object"==typeof obj||"function"==typeof obj?class2type[toString.call(obj)]||"object":typeof obj}function copyObject(obj,depth){if(depth=depth||0,depth<10&&"object"===getType(obj)){var deepCopy={},props=Object.getOwnPropertyNames(obj);return props.forEach(function(it){"object"===getType(obj[it])?deepCopy[it]=copyObject(obj[it],depth+1):"array"===getType(obj[it])?(deepCopy[it]=[],obj[it].forEach(function(x){deepCopy[it].push(copyObject(x,depth+1))})):Object.defineProperty(deepCopy,it,Object.getOwnPropertyDescriptor(obj,it))}),deepCopy}return Fancy.copy(obj)}function Fancy(element){return this==window?new Fancy(element):(this.element=jQuery(element),void(this.name="Fancy"))}var root=function(){var e=document.getElementsByTagName("script"),n=e[e.length-1],r=n.src.replace(location.origin,"").split("/"),t=location.pathname.split("/"),i=!1,o=0;for(var a in r)i||(r[a]==t[a]?o++:i=!0);return location.origin+t.slice(0,o).join("/")}(),scripts=document.getElementsByTagName("script"),url=scripts[scripts.length-1].src.split("?");if("function"!=typeof jQuery?(document.write('<script type="text/javascript" src="//code.jquery.com/jquery-1.11.3.min.js"></script>'),scripts=document.getElementsByTagName("script"),scripts[scripts.length-1].onload=function(){Fancy.version(Fancy.api)},scripts[scripts.length-1].onreadystatechange=function(){Fancy.version(Fancy.api)}):jQuery(function(){Fancy.version(Fancy.api)}),"function"==typeof window.Fancy)return void console.error("Error: tried to load Fancy more than once");var class2type={},toString=class2type.toString;"Boolean Number String Function Array Date RegExp Object Error".split(" ").forEach(function(name){class2type["[object "+name+"]"]=name.toLowerCase()});var n=navigator.userAgent.toLowerCase();if(Fancy.install=function(name,version){var onReady=function(){},script=document.createElement("script");return name=name.toLowerCase(),Fancy[name]?function(onReady){if("function"==typeof onReady)return onReady(),!0}:(script.src="//cdn.rawgit.com/Mephiztopheles/Fancy."+name+"/"+(version||"master")+"/fancy"+name+".min.js","complete"===document.readyState?jQuery.ajax({url:script.src,success:onReady,error:function(){console.error("could not load plugin")}}):(document.write(script.outerHTML),setTimeout(function(){onReady()},1)),function(callback){if("function"==typeof onReady)return"complete"===document.readyState?onReady=callback:$(callback),!0})},Fancy.findByAnd=function(array,obj,returnIndex){function findByAnd(){for(var resolved=!0,i=0;i<this.length;){resolved=!0;for(var a in obj)if(obj.hasOwnProperty(a)&&(a.toLowerCase().indexOf("date")>=0?new Date(Fancy.getKey(this[i],a)).getTime():Fancy.getKey(this[i],a))!=(a.toLowerCase().indexOf("date")>=0?new Date(obj[a]).getTime():obj[a])){resolved=!1;break}if(1==resolved){resolved=i;break}i++}resolved=resolved===!0||resolved===!1?null:resolved;var result=null===resolved?null:this[resolved];return returnIndex?{index:resolved,result:result}:result}return findByAnd.apply(array)},Fancy.findAllBy=function(arr,obj){function findAllBy(){var list=[],resolved=!0;return this.forEach(function(it){resolved=!0;for(var a in obj)obj.hasOwnProperty(a)&&(a.toLowerCase().indexOf("date")>=0?new Date(Fancy.getKey(this,a)).getTime():Fancy.getKey(this,a))!=(a.toLowerCase().indexOf("date")>=0?new Date(obj[a]).getTime():obj[a])&&(resolved=!1);1==resolved&&list.push(it)}),list}return findAllBy.apply(arr)},Fancy.JSONvalid=function(text){return text&&/^[\],:{}\s]*$/.test(text.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))},Fancy.isObject=function(obj){return"[object Object]"==={}.toString.apply(obj)},Fancy.isArray=function(obj){return"[object Array]"===Object.prototype.toString.call(obj)},Fancy.is=function(a,b){if("array"===getType(a)&&"array"===getType(b)){if(a.length!=b.length)return!1;for(var i=0;i<a.length;i++)if(a.hasOwnProperty(i))if("object"===getType(a[i])){if(a[i].id&&a[i].class){if(!b.findBy({class:a[i].class,id:a[i].id}))return!1}else if(a[i].id){if(!b.findBy({id:a[i].id}))return!1}else if(a[i].name&&!b.findBy({name:a[i].name}))return!1}else if(b.indexOf(a[i])<0)return!1}else if("object"!==getType(a)||"object"!==getType(b))return getType(a)===getType(b)&&a===b},Fancy.capitalize=function(str){return str[0].toUpperCase()+str.slice(1)},Fancy.decapitalize=function(str){return str[0].toLowerCase()+str.slice(1)},Fancy.getType=getType,Fancy.version=function(plugin){Fancy.versionControl&&(Fancy.isChrome?console.log("%cThis page is using %c"+plugin.name+"%c\r\nCopyright © %cMarkus Ahrweiler\r\n%cVersion: %c"+plugin.version,"color: #000","color: #8E0000","color: #000","color: #49A54F","color: #000","color: blue"):console.log("This page is using "+plugin.name+"\r\nCopyright© Markus Ahrweiler\r\nVersion: "+plugin.version),jQuery.ajax({url:"http://version.mephiztopheles.wtf/",data:{plugin:plugin.name},type:"POST",global:!1,success:function(v){v?Fancy.compareversion(v,plugin.version)&&(Fancy.isChrome?console.warn("%cYou are using an older version of %c"+plugin.name+". %cThe newest version is: "+v,"color: #000","color: #8E0000","color: #000"):console.warn("You are using an older version of "+plugin.name+". The newest version is: "+v)):Fancy.isChrome?console.warn("Couldn't retrieve version control information for %c"+plugin.name+"%c!","color: #8E0000","color. #000"):console.warn("Couldn't retrieve version control information for "+plugin.name+"!")}}))},Fancy.require=function(plugins){jQuery(function(){for(var i in plugins)if(plugins.hasOwnProperty(i)){var vers;if(vers=0==i.indexOf("Fancy.")?Fancy.getKey(window,i):window[i].prototype.version||"jQuery"==i&&jQuery.prototype.jquery,"undefined"==typeof window[i]||vers&&plugins[i]&&Fancy.compareversion(plugins[i],vers))throw"Error: "+i+" "+(plugins[i]?plugins[i]+" ":"")+"is required"+(vers?", got "+vers:"")}})},Fancy.compareversion=function(needed,is){if("string"==typeof needed&&"string"==typeof is){var c=[parseInt(needed.split(".")[0]),parseInt(needed.split(".")[1]),parseInt(needed.split(".")[2])],d=[parseInt(is.split(".")[0]),parseInt(is.split(".")[1]),parseInt(is.split(".")[2])];return c[0]>d[0]||c[0]==d[0]&&c[1]>d[1]||c[1]==d[1]&&c[2]>d[2]}if(needed===!1)return!0},Fancy.check=function(settings,pattern){function checkType(instance,object){return"function"===getType(window[instance])?object instanceof window[instance]||getType(object)===instance.toLowerCase():getType(object)===instance.toLowerCase()}for(var i in pattern)if(pattern.hasOwnProperty(i)){var mismatch,typeArray,loopCount,type;if(pattern[i].type){for(mismatch=!0,typeArray=pattern[i].type.split("|"),loopCount=0;loopCount<typeArray.length;loopCount++)mismatch&&(type=checkType(typeArray[loopCount],settings[i]),type&&(mismatch=!1));if(mismatch)throw"Error: Expected type "+typeArray.join(" or ")+" but got "+Fancy.capitalize(typeof settings[i])+" for "+i}if(pattern[i].required){switch(mismatch=!1,getType(settings[i])){case"string":settings[i]||(mismatch=!0);break;case"object":null===settings[i]?mismatch=!0:Object.keys(settings[i]).length||(mismatch=!0);break;case"undefined":mismatch=!0}if(mismatch)throw"Error: "+i+" is required"}if(pattern[i].types&&settings[i]&&settings[i].length)for(var b=0;b<settings[i].length;b++){for(typeArray=pattern[i].types.split("|"),mismatch=!1,loopCount=0;loopCount<typeArray.length;loopCount++)mismatch||(type=checkType(typeArray[loopCount],settings[i][b]),null===settings[i][b]&&"Null"!=typeArray[loopCount]&&(type=!1),type&&(mismatch=!0));if(!mismatch)throw"Error: Expected type "+typeArray.join(" or ")+" but got "+Fancy.capitalize(getType(settings[i][b]))+" for "+i+"'s items"}}},Fancy.watch=function(obj,prop,handler){var oldval=obj[prop],newval=oldval,getter=function(){return newval},setter=function(val){return oldval=newval,newval=val===oldval?val:handler.call(obj,prop,oldval,val)};if(Object.defineProperty?Object.defineProperty(obj,prop,{get:getter,set:setter}):Object.prototype.__defineGetter__&&Object.prototype.__defineSetter__&&(Object.prototype.__defineGetter__.call(obj,prop,getter),Object.prototype.__defineSetter__.call(obj,prop,setter)),Fancy.isArray(obj[prop]))for(var i=0;i<obj[prop].length;i++)Fancy.watch(obj[prop],i,handler);else if(Fancy.isObject(obj[prop]))for(var p in obj[prop])obj[prop].hasOwnProperty(p)&&Fancy.watch(obj[prop],p,handler)},Fancy.unwatch=function(obj,prop){var val=obj[prop];delete obj[prop],obj[prop]=val},Fancy.scrollParent=function(el){var scrollParent,position=el.css("position"),excludeStaticParent="absolute"===position;return scrollParent=el.parents().filter(function(){var parent=jQuery(this);return(!excludeStaticParent||"static"!==parent.css("position"))&&(/(auto|scroll)/.test(parent.css("overflow")+parent.css("overflow-y")+parent.css("overflow-x"))&&parent[0].scrollHeight-parent.outerHeight()>0)}).eq(0),"fixed"!==position&&scrollParent.length?scrollParent:jQuery(el[0].ownerDocument||document)},Fancy.debug=function(){return!!Fancy.debugEnabled&&(console.debug.apply(console,arguments),!0)},Fancy.url=function(uri){if("string"==typeof uri)return"/"===uri.charAt(0)?Fancy.root+uri:Fancy.root+"/"+uri},Fancy.undefined=function(v){return void 0===v||null===v},Fancy.equals=function(object1,object2){if(typeof object1!=typeof object2)return!1;var propName;if("array"===Fancy.getType(object1)||"object"===Fancy.getType(object1)){if(Object.keys(object1).length!==Object.keys(object2).length)return!1;for(propName in object1)if(object1.hasOwnProperty(propName)&&typeof object1[propName]!=typeof object2[propName])return!1;for(propName in object2)if(object2.hasOwnProperty(propName)){if(typeof object1[propName]!=typeof object2[propName])return!1;if("array"===Fancy.getType(object1[propName])&&"array"===Fancy.getType(object2[propName])||"object"===Fancy.getType(object1[propName])&&"object"===Fancy.getType(object2[propName])){if(!Fancy.equals(object1[propName],object2[propName]))return!1}else if(object1[propName]!=object2[propName])return!1}}else if(object1!=object2)return!1;return!0},Fancy.copy=function(object,copyProperties){if(void 0!==object){if(null===object)return null;if(copyProperties){if("object"===getType(object))return copyObject(object);if("array"===getType(object)){var list=[];return object.forEach(function(it,i){list[i]=copyObject(it)}),list}return JSON.parse(JSON.stringify(object))}return JSON.parse(JSON.stringify(object))}},Fancy.isOpera=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,Fancy.isFirefox="undefined"!=typeof InstallTrigger,Fancy.isSafari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,Fancy.isIE=!!document.documentMode,Fancy.isChrome=!!window.chrome&&!Fancy.isOpera&&n.indexOf("edge/")===-1&&!Fancy.isIE,Fancy.apple=n.indexOf("iphone")>=0||n.indexOf("ipad")>=0||n.indexOf("ipod")>0,Fancy.mobile=n.indexOf("mobile")>=0||n.indexOf("android")>=0||Fancy.apple,Fancy.versionControl=!0,Fancy.debugEnabled=!1,Fancy.settings={},Fancy.root=root,2==url.length){var props=url[1].split("&");props.forEach(function(part){var s=part.split("=");Fancy[s[0]]=JSON.parse(s[1])})}return Fancy.api=Fancy.prototype={version:"1.3.2",name:"Fancy"},Fancy.api.set=function(name,fn,check){var instance;if(this.element.length){var data=this.get(name);if(check!==!1&&(data&&data.length))for(var i=0;i<data.length;i++)"undefined"==typeof data[i]&&(instance=fn(jQuery(this.element[i])),data[i]=instance,jQuery(this.element[i]).data(name,instance));return check!==!1&&data?data:(instance=fn(this.element),this.element.data(name,instance),instance)}},Fancy.api.get=function(margin){if(0!=margin.indexOf("Fancy")){if("function"!=typeof this[margin])return this.isChrome?console.error('"%c'+margin+'%c" is not a function of Fancy!',"color: blue","color: #000"):console.error('"'+margin+'" is not a function of Fancy!'),!1;margin="Fancy"+margin[0].toUpperCase()+margin.slice(1,margin.length)}if(this.element.length>1){var ret=[];return this.element.each(function(){ret.push(jQuery(this).data(margin))}),ret}return this.element.data(margin)},Fancy.api.fullHeight=function(margin){var padding=!0,border=!0;return"object"==typeof margin&&(padding=0!=margin.padding,border=0!=margin.border),this.element.height()+(padding?parseInt(this.element.css("paddingTop")):0)+(padding?parseInt(this.element.css("paddingBottom")):0)+(border?parseInt(this.element.css("borderBottomWidth")):0)+(border?parseInt(this.element.css("borderTopWidth")):0)+(margin?parseInt(this.element.css("marginTop"))+parseInt(this.element.css("marginBottom")):0)},Fancy.api.fullWidth=function(margin){var padding=!0,border=!0;return"object"==typeof margin&&(padding=0!=margin.padding,border=0!=margin.border),this.element.width()+(padding?parseInt(this.element.css("paddingLeft")):0)+(padding?parseInt(this.element.css("paddingRight")):0)+(border?parseInt(this.element.css("borderLeftWidth")):0)+(border?parseInt(this.element.css("borderRightWidth")):0)+(margin?parseInt(this.element.css("marginLeft"))+parseInt(this.element.css("marginRight")):0)},Fancy.api.preventSelect=function(){return this.element.on("selectstart",!1).attr("unselectable","on").css("userSelect","none"),this.element},Fancy.api.allowSelect=function(){return this.element.off("selectstart").removeAttr("unselectable").css("userSelect",""),this.element},Fancy.getKey=function(o,s){s=s.replace(/\[(\w+)\]/g,".$1"),s=s.replace(/^\./,"");for(var a=s.split("."),i=0;i<a.length;i++){var k=a[i];if(k.indexOf("(")===-1){if(!o.hasOwnProperty(k))return;o=o[k]}else{var K=k.split("(")[0];if(null===o[K]||null===o[K])return;o=o[K]()}}return o},"undefined"==typeof noGlobal&&(window.Fancy=Fancy),Fancy});
//# sourceMappingURL=fancy.min.js.map