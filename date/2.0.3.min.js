!function(e,t){function n(e,t){var n,a=0;for(var i in e)a==t&&(n=i),a++;return n}function a(e,n){var i=this,l=t(e);return l&&l.length&&"INPUT"==l[0].nodeName?(i.name=r,i.version="2.0.3",i.settings=t.extend({},a.settings,n),i.visible=!1,i.calculate={day:864e5,hour:36e5,minute:6e4,second:1e3},i.element=l,i.enable=function(){},i.disable=function(){},i.today=i.decode(i.encode(new Date)),i.current=i.decode(l.val()?l.val():i.encode(new Date)),i.selected=i.decode(l.val()),i.init(),i):void console.error(r+" needs an input to be bound to!")}if("undefined"==typeof Fancy)return void console.error("Fancy is required");var i=Fancy,r="FancyDate",l=!1;a.api=a.prototype={},a.api.init=function(){var e=this;l||(l=!0,i.version(e)),this.html={wrapper:t("<div/>",{id:e.name+"-wrapper"}),dialog:t("<div/>",{id:e.name+"-dialog"}).attr("onselectstart",function(){return!1}),inner:t("<div/>",{id:e.name+"-inner"}),previous:t("<div/>",{id:e.name+"-previous","class":e.name+"-button"}),previousArrow:t("<div/>",{"class":e.name+"-arrow"}),next:t("<div/>",{id:e.name+"-next","class":e.name+"-button"}),nextArrow:t("<div/>",{"class":e.name+"-arrow"}),title:t("<div/>",{id:e.name+"-title"}),year:t("<span/>",{id:e.name+"-year"}),month:t("<span/>",{id:e.name+"-month"}),header:t("<div/>",{id:e.name+"-header"}),body:t("<div/>",{id:e.name+"-body"}),footer:t("<div/>",{id:e.name+"-footer"}),close:t("<div/>",{id:e.name+"-close","class":e.name+"-button",html:e.translate("button","close")}),today:t("<div/>",{id:e.name+"-today","class":e.name+"-button",html:e.translate("button","today")}),clear:t("<div/>",{id:e.name+"-clear","class":e.name+"-button",html:e.translate("button","clear")}),calendar:t("<div/>",{id:e.name+"-calendar"}),days:[],rows:[]},e.element.on("focus",function(){!e.visible&&e.settings.query(e.element)&&e.show()}).addClass(e.name+"-element").data(e.name,e)},a.api.show=function(){function e(){n.html.dialog.show(),n.visible=!0,n.settings.onShow.call(n),n.create()}var n=this;return this.settings.free?(t("body").append(n.html.wrapper).addClass(n.name),n.html.wrapper.append(n.html.dialog)):t("body").append(n.html.dialog).addClass(n.name),n.html.dialog.append(n.html.inner),n.html.inner.append(n.html.header).append(n.html.body).append(n.html.footer),n.html.header.append(n.html.previous.append(n.html.previousArrow)).append(n.html.title).append(n.html.next.append(n.html.nextArrow)),n.html.body.html(n.html.calendar),n.html.footer.html(n.html.close).append(n.html.today).append(n.html.clear),n.html.title.append(n.html.month.html(n.translate("month",n.current.getMonth()))).append(n.html.year.html(n.current.getFullYear())),n.html.dialog.hide(),n.settings.free?n.html.wrapper.unbind("."+r).on("click."+r,function(e){t(e.target).is(n.html.wrapper)&&n.hide()}):t(document).unbind("."+r).on("click."+r,function(e){t(e.target).is(n.element)||t(e.target).closest("#"+r+"-dialog").length||t(e.target).is("#"+r+"-dialog")||n.hide()}),n.settings.animated?setTimeout(function(){e(),n.html.dialog.addClass("show").removeClass("hide")}):e(),n},a.api.hide=function(){function e(){n.html.wrapper.remove(),n.html.dialog.remove(),n.html.calendar.html(""),n.html.header.html(""),n.html.title.html(""),n.element.unbind("."+r+":prevent"),n.element[0].blur(),n.visible=!1,n.settings.onClose.call(n),t("body").removeClass(n.name)}var n=this;return n.element.unbind("."+n.name+":prevent"),n.settings.animated?(setTimeout(e,300),n.html.dialog.addClass("hide").removeClass("show")):e(),n},a.api.update=function(){var e=this;e.html.calendar.html(""),e.html.title.html(e.html.month.html(e.translate("month",e.current.getMonth()))).append(e.html.year.html(e.current.getFullYear())),e.create()},a.api.create=function(){function n(e){var n=t("<div/>",{id:this.name+"-rowh-"+e,"class":this.name+"-rowh",html:this.translate("day",e)});s.append(n)}var a=this,i=new Date(a.current.getFullYear(),a.current.getMonth(),1),r=0,l=0;if(1!=i.getDay()&&0!=i.getDay()){var o=new Date(a.current.getFullYear(),a.current.getMonth(),0);i=new Date(a.current.getFullYear(),a.current.getMonth()-1,o.getDate()-i.getDay()+2)}else if(0==i.getDay()){var o=new Date(a.current.getFullYear(),a.current.getMonth(),0);i=new Date(a.current.getFullYear(),a.current.getMonth()-1,o.getDate()-5)}else{var o=new Date(a.current.getFullYear(),a.current.getMonth(),0);i=new Date(a.current.getFullYear(),a.current.getMonth()-1,o.getDate()-6)}if(a.html.days=[],a.html.rows=[],this.settings.showWeekHeader){var s=t("<div/>",{id:this.name+"-rowh"});this.html.calendar.append(s),n.call(this,"mo"),n.call(this,"tu"),n.call(this,"we"),n.call(this,"th"),n.call(this,"fr"),n.call(this,"sa"),n.call(this,"su")}for(;6>r;){r++,a.html.rows[r]=t("<div/>",{id:a.name+".row-"+r,"class":a.name+"-row"}),a.html.calendar.append(a.html.rows[r]);for(var d=0;7>d;){d++,l++;var h=t("<div/>",{id:a.name+"-day-"+l,"class":a.name+"-day "+a.name+"-button",html:i.getDate()}).data("date",i);i.getMonth()!=a.current.getMonth()&&h.addClass(a.name+"-day-extern"),i.getMonth()==a.today.getMonth()&&i.getDate()==a.today.getDate()&&i.getFullYear()==a.today.getFullYear()&&h.addClass(a.name+"-day-today"),i=new Date(i.getTime()+a.calculate.day),a.html.days.push(h),a.html.rows[r].append(h)}}if(a.element.val()){var m=a.decode(a.element.val());t("."+a.name+"-day").filter(function(){return t(this).data("date")==m.toString()}).addClass(a.name+"-active")}var u=this.html.body.width();return t(a.html.days).each(function(){t(this).css({width:parseInt(u/7-(t(this).outerWidth(!0)-t(this).width()))})}),t("."+this.name+"-rowh").each(function(){t(this).css({width:parseInt(u/7-(t(this).outerWidth(!0)-t(this).width()))})}),this.html.dialog.css(this.settings.free?{marginTop:(e.innerHeight-this.html.dialog.outerHeight())/2,marginLeft:(e.innerWidth-this.html.dialog.outerWidth())/2}:{position:"absolute",left:a.element.offset().left,top:a.element.offset().top+a.element.outerHeight()}),a.html.title.css({width:a.html.header.outerWidth()-a.html.previous.outerWidth()-a.html.next.outerWidth()-parseInt(a.html.header.css("borderLeft"))-parseInt(a.html.header.css("borderRight"))}),a.addEventListener(),a},a.api.addEventListener=function(){for(var e=this,n=0;n<e.html.days.length;n++)t(e.html.days[n]).on("click",function(){e.select(new Date(t(this).data("date")))});return e.element.on("keydown",function(t){setTimeout(function(){9===(t.which|t.keyCode)&&e.hide()},2)}),e.element.on("blur."+r,function(t){setTimeout(function(){e.html.dialog.is(":visible")&&!t.relatedTarget?e.element[0].focus():e.hide()},1)}),e.html.clear.unbind("click").on("click",function(){e.element.val(""),e.selected=!1,e.current=e.today,e.hide()}),e.html.dialog.unbind("."+e.name).on("selectstart."+e.name,function(e){"use strict";e.preventDefault()}),e.html.close.unbind("click").on("click",function(){e.hide()}),e.html.today.unbind("click").on("click",function(){e.select(e.today),e.current=e.today,e.hide()}),e.html.next.unbind("click").on("click",function(){e.current=new Date(e.current.getFullYear(),e.current.getMonth()+1,1),e.update()}),e.html.previous.unbind("click").on("click",function(){e.current=new Date(e.current.getFullYear(),e.current.getMonth()-1,1),e.update()}),e.html.wrapper.unbind("click").on("click",function(n){t(n.target).is(e.html.wrapper)&&e.hide()}),e.element.unbind("input."+e.name).on("input."+e.name,function(){var e=t(this).val();t(this).val(e.substring(0,e.length-1))}),e},a.api.select=function(e){var t=this;return t.element.val(t.encode(e)),t.selected=e,t.current=e,"function"==typeof t.settings.onSelect&&t.settings.onSelect(t.selected),t.hide(),t},a.api.encode=function(e,t){var n=this;return t=t||n.settings.format,t.replace("dd",e.getDate()<10?"0"+e.getDate():e.getDate()).replace("mm",e.getMonth()<9?"0"+(e.getMonth()+1):e.getMonth()+1).replace("yyyy",e.getFullYear())},a.api.decode=function(e){var t=this,n={d:parseInt(e.substring(t.settings.format.indexOf("dd"),t.settings.format.indexOf("dd")+2)),m:parseInt(e.substring(t.settings.format.indexOf("mm"),t.settings.format.indexOf("mm")+2))-1,y:parseInt(e.substring(t.settings.format.indexOf("yyyy"),t.settings.format.indexOf("yyyy")+4))};return new Date(n.y,n.m,n.d)},a.api.translate=function(e,t){var i=a.translation[navigator.language]?navigator.language:"en",r=a.translation[i][e];return"undefined"==typeof r[0]&&"number"==typeof t&&(t=n(r,t)),r&&(r=a.translation[i][e][t]),r},a.settings={format:"dd.mm.yyyy",animated:!0,onShow:function(){},onClose:function(){},query:function(){return!0},showWeekHeader:!0},a.translation={de:{month:["Januar","Februar","M&auml;rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],day:{mon:"Montag",mo:"Mo",tue:"Dienstag",tu:"Di",wen:"Mittwoch",we:"Mi",thu:"Donnerstag",th:"Do",fri:"Freitag",fr:"Fr",sat:"Samstag",sa:"Sa",sun:"Sonntag",su:"So"},button:{close:"Schlie&szlig;en",today:"Heute",clear:"L&ouml;schen"}},en:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],day:{mon:"Mon",tue:"Tue",wen:"Wed",thu:"Thu",fri:"Fri",sat:"Sat",sun:"Sun"},button:{close:"Close",today:"Today",clear:"Clear"}}},i.date=!0,i.api.date=function(e){var t=this.get(r);if(t&&t.length)for(var n=0;n<t.length;n++)"undefined"==typeof t[n]&&(t[n]=new a(this.element[n],e));return t?t:new a(this.element,e)}}(window,jQuery);
