!function(e,t){function l(e){return e.on("selectstart",!1).attr("unselectable","on").css("userSelect","none")}function n(e){var t=[],l=parseInt(e/3600),n=parseInt((e-3600*l)/60),i=Math.floor(e-(3600*l+60*n));return l&&t.push(10>l?"0"+l:l),t.push(10>n?"0"+n:n),t.push(10>i?"0"+i:i),t.join(":")}function i(e){t(document).trigger(e)}function r(e,t){return t=t?"-"+t+"-":"-",e.attr("id",d+t+a).addClass(d+t.substring(0,t.length-1))}function o(e){for(var t=[],l=1;l<arguments.length;l++)t.push(arguments[l]);return t.forEach(function(t){e.addClass(d+"-"+t)}),e}function m(e){for(var t=[],l=1;l<arguments.length;l++)t.push(arguments[l]);return t.forEach(function(t){e.removeClass(d+"-"+t)}),e}function u(e,n){var i=this;return i.id=a,i.name=d,i.element=e[0],i.element.controls=!1,i.controls=!1,i.timer=[],i.onEnd=function(){},i.onPlay=function(){},i.onPause=function(){},i.onVolume=function(){},i.settings=t.extend({},Fancy.settings[d],n),i.html={wrapper:o(r(t("<div/>")),"theme-"+i.settings.theme),controls:r(t("<div/>"),"controls"),left:r(t("<div/>"),"controls-left"),right:r(t("<div/>"),"controls-right"),play:o(r(t("<div/>"),"play"),"control"),fullscreen:o(r(t("<div/>"),"fullscreen"),"control"),timeCurrent:r(t("<div/>",{html:"00:00"}),"time-current"),timeFull:r(t("<div/>",{html:"00:00"}),"time-full"),timePopout:r(t("<div/>"),"time-popout"),timeSlider:r(t("<div/>"),"time-slider"),timeSliderCurrent:r(t("<div/>"),"time-slider-current"),timeSliderBuffer:r(t("<div/>"),"time-slider-buffer"),timeSliderFull:r(t("<div/>"),"time-slider-full"),volume:r(t("<div/>"),"volume"),volumeSlider:r(t("<div/>"),"volume-slider"),volumeSliderCurrent:r(t("<div/>"),"volume-slider-current"),volumeSliderFull:r(t("<div/>"),"volume-slider-full"),mute:o(r(t("<div/>"),"volume-mute"),"control"),loop:o(r(t("<div/>"),"loop"),"control")},e.wrap(i.html.wrapper),i.html.wrapper=e.parent(),i.html.wrapper.append(i.html.controls),i.html.controls.append(i.html.left),i.html.left.append(i.html.play),i.settings.loopable&&i.html.left.append(i.html.loop),i.html.left.append(i.html.timeCurrent),i.html.left.append(i.html.timeFull),i.html.controls.append(i.html.timeSlider),i.html.controls.append(i.html.right),i.html.controls.append(i.html.timePopout),i.html.right.append(i.html.volume),i.html.right.append(i.html.fullscreen),i.html.timeSlider.append(i.html.timeSliderFull),i.html.timeSliderFull.append(i.html.timeSliderBuffer),i.html.timeSliderFull.append(i.html.timeSliderCurrent),i.html.volume.append(i.html.mute),i.html.volume.append(i.html.volumeSlider),i.html.volumeSlider.append(i.html.volumeSliderFull),i.html.volumeSliderFull.append(i.html.volumeSliderCurrent),h||(h=!0,Fancy.version(i)),i.duration=0,i.volume=i.element.volume,i.muted=i.element.muted,i.eventListener(),o(i.html.wrapper,"paused"),i.settings.start&&(i.seek(i.settings.start),i.html.timerSliderCurrent.css("marginLeft",i.settings.start),i.html.timeSliderBuffer.css("marginLeft",i.settings.start)),i.play(),i.settings.autoplay||i.pause(),l(i.html.wrapper),e.data(d,i),i}var s="1.0.5";if("undefined"==typeof Fancy||Fancy.compareversion(s,Fancy.api.version))throw"Error: Fancy "+s+" is required";var a=1,d="FancyPlayer",h=!1;u.api=u.prototype={},u.api.version="2.0.6",u.api.pause=function(){return this.element.pause(),this.showControls(),this},u.api.play=function(){return this.element.ended?(this.reset(),this.play()):(this.element.play(),this.showControls()),this},u.api.seek=function(e){var t=this;return clearTimeout(t.timer.seek),t.timer.seek=setInterval(function(){4==t.element.readyState&&(clearTimeout(t.timer.seek),t.element.currentTime=e,t.update(!0))},10),t},u.api.update=function(e){var t=this;return t.currentTime=t.element.currentTime,t.duration=t.element.duration||0,e?t.html.timeSliderCurrent.stop(!0).width((t.currentTime-t.settings.start)/t.duration*100+"%"):4==t.element.readyState&&(t.buffered=[t.element.buffered.start(0),t.element.buffered.end(0)],t.played=[t.settings.start,t.element.currentTime],t.html.timeSliderCurrent.animate({width:(t.currentTime+1-t.settings.start)/t.duration*100+"%"},1e3,"linear"),t.html.timeSliderBuffer.animate({width:(t.buffered[1]-t.settings.start)/t.duration*100+"%"},1e3,"linear")),t.html.timeFull.html(n(t.duration)),t.html.timeCurrent.html(n(t.currentTime)),this},u.api.toggle=function(){var e=this;return e.element.paused?e.play():e.pause(),this},u.api.eventListener=function(){var e=this;return e.html.play.on("click",function(){e.toggle()}),t(e.element).on("ended",function(){m(e.html.wrapper,"played","paused"),o(e.html.wrapper,"ended"),e.update(!0);var t={type:"FancyPlayer:ended",player:e.element,api:e,id:e.id};i(t),e.onEnd()}).on("pause",function(){e.update(!0),clearInterval(e.timer.played),o(e.html.wrapper,"paused"),m(e.html.wrapper,"played","ended");var l=new t.Event({type:"FancyPlayer:pause",player:e.element,api:e,id:e.id});i(l),e.html.timeSliderCurrent.stop(!0),e.html.timeSliderBuffer.stop(!0),e.onPause()}).on("play",function(){o(e.html.wrapper,"played"),m(e.html.wrapper,"paused","ended");var t={type:"FancyPlayer:play",player:e.element,api:e,id:e.id};i(t),e.update(),e.timer.played=setInterval(function(){e.update()},1e3),e.onPlay()}).on("volumechange",function(){function t(t){e.html.volumeSliderCurrent.css(e.html.volumeSliderFull.height()>e.html.volumeSliderFull.width()?{top:100-t+"%"}:{width:t+"%"})}e.volume=100*e.element.volume,e.element.muted||0===e.volume?(o(e.html.wrapper,"muted"),t(0)):(m(e.html.wrapper,"muted"),t(e.volume));var l={type:"FancyPlayer:volume",player:e.element,api:e,id:e.id};i(l),e.onVolume()}).on("contextmenu",function(e){return e.preventDefault(),!1}).on("click",function(){!Fancy.swipe&&Fancy.mobile?e.controls?e.toggle():e.showControls():e.toggle()}).on("dblclick",function(){e.fullscreen()}).on("waiting",function(){}).on("loadstart",function(){e.settings.poster&&t(this).attr("poster",e.settings.poster)}).on("canplay",function(){t(this).removeAttr("poster"),e.update(!0)}),e.html.fullscreen.on("click",function(){e.fullscreen()}),e.html.mute.on("click",function(){e.element.muted=!e.element.muted,e.muted=e.element.muted}),e.html.timeSlider.on("click",function(t){e.seek(e.calcTime(t)),e.update(!0)}),e.html.volumeSliderFull.on("click",function(t){e.setVolume(e.html.volumeSliderFull.height()>e.html.volumeSliderFull.width()?(e.html.volumeSliderFull.height()-t.offsetY)/e.html.volumeSliderFull.height()*100:100*t.offsetX/e.html.volumeSliderFull.width())}),e.html.loop.on("click",function(t){t.preventDefault(),t.stopPropagation(),e.html.loop.toggleClass("checked"),e.toggleLoop()}),e.html.wrapper.on("mousemove",function(){Fancy.mobile||e.showControls()}),Fancy.swipe&&(Fancy(e.html.volumeSliderFull).swipe({onMouseMove:function(l){if(t(l.target).is(e.html.volumeSliderFull)||t(l.target).is(e.html.volumeSliderCurrent)||t(l.target).is(e.html.volumeSlider))if(e.html.volumeSliderFull.height()>e.html.volumeSliderFull.width()){var n=(e.html.volumeSliderFull.height()-l.offsetY)/e.html.volumeSliderFull.height()*100;n=n>100?100:0>n?0:n,e.setVolume(n)}else{var n=100*l.offsetX/e.html.volumeSliderFull.width();n=n>100?100:0>n?0:n,e.setVolume(n)}else{var i={top:l.pageY,left:l.pageX},r=e.html.volumeSliderFull.offset();e.html.volumeSliderFull.height()>e.html.volumeSliderFull.width()?i.top>r.top?e.setVolume(100):i.top<r.top&&e.setVolume(0):i.left>r.left?e.setVolume(100):i.left<r.left&&e.setVolume(0)}}}),Fancy(e.html.timeSlider).swipe({onMouseMove:function(t){e.seek(e.element.duration*t.offsetX/e.html.timeSlider.width()),e.update(!0)}}),Fancy.mobile&&(e.showControls(),Fancy(e.element).swipe({onMouseUp:function(t,l,n){l.indexOf("up")>=0&&100>n?e.showControls():l.indexOf("down")>=0&&100>n&&e.hideControls()},onMouseMove:function(e){e.preventDefault()}}))),e.html.timeSlider.on("mousemove",function(t){e.html.timePopout.show().html(e.getTime(t));var l=t.offsetX+e.html.timeSlider.position().left,n=e.html.timePopout.outerWidth();l=Math.min(l,e.html.timeSlider.width()+e.html.timeSlider.position().left-n/2-5),l=Math.max(l,n/2+5),e.html.timePopout.css({left:l})}).on("mouseout",function(){e.html.timePopout.fadeOut()}),t(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",function(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?o(e.html.wrapper,"fullscreen"):m(e.html.wrapper,"fullscreen")}),this},u.api.fullscreen=function(e){if(e&&"toggle"!==e||(e=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?"leave":"enter"),"enter"===e){var t=this.html.wrapper[0];t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}else{if("leave"!==e)throw"ERROE: Mode "+e+" not supported";document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}return this},u.api.setVolume=function(e){return"number"==typeof e&&(this.element.muted=!1,this.element.volume=e/100),this},u.api.reset=function(){return this.element.load(),this.seek(this.settings.start),this.html.timeSliderCurrent.width(0),this},u.api.toggleLoop=function(e){this.element.loop="undefined"!=typeof e?e?!0:!1:!this.element.loop},u.api.showControls=function(){var e=this;e.controls=!0,o(e.html.wrapper,"controls-show"),(e.settings.hideControlsDesktop&&!Fancy.mobile||Fancy.mobile&&e.settings.hideControlsMobile)&&(clearTimeout(e.timer.hide),e.timer.hide=setTimeout(function(){Fancy.mobile||t("#"+e.html.controls.attr("id")+":hover").length?Fancy.mobile&&e.hideControls():e.hideControls()},Fancy.mobile?e.settings.hideControlsMobile:e.settings.hideControlsDesktop))},u.api.hideControls=function(){this.controls=!1,m(this.html.wrapper,"controls-show")},u.api.calcTime=function(e){return(this.element.duration*e.offsetX||0)/this.html.timeSlider.width()},u.api.getTime=function(e){return n(this.calcTime(e))},Fancy.settings[d]={autoplay:!1,start:0,theme:"default",loopable:!1,hideControlsDesktop:1500,hideControlsMobile:!1,poster:!1},Fancy.player=!0,Fancy.api.player=function(e){var t=this.get(d);if(t&&t.length)for(var l in t)"undefined"==typeof t[l]&&(t[l]=new u(this.element[l],e));return t?t:new u(this.element,e)}}(window,jQuery);